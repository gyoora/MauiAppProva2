<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MauiAppProva2.Views.HomeApp"
             Title="PrevisÃ£o do Tempo"
             NavigationPage.HasNavigationBar="False"
             BackgroundColor="#F0F2F5">

    <Grid RowDefinitions="Auto, Auto, Auto, Auto, Auto, *" Padding="20" RowSpacing="15">

        <Label x:Name="lblBoasVindas" Grid.Row="0" Text="OlÃ¡..."
               FontSize="28" TextColor="#1c1c1c" FontAttributes="Bold" Margin="5,0,0,0"/>

        <Frame Grid.Row="1" CornerRadius="20" Padding="10" HasShadow="False" BackgroundColor="White" BorderColor="#e0e0e0">
            <Grid ColumnDefinitions="*, Auto">
                <Entry x:Name="txtCidade" Grid.Column="0" Placeholder="Digite a cidade (ex: JaÃº)"
                       TextColor="#333" PlaceholderColor="#999" />
                <ImageButton Grid.Column="1" Source="lupa.png" 
                             HeightRequest="25" WidthRequest="25" Clicked="OnBuscarClicked"/>
            </Grid>
        </Frame>

        <Button Grid.Row="2"
                Text="ðŸ“ Usar minha localizaÃ§Ã£o"
                TextColor="#6200EE"
                BackgroundColor="Transparent"
                FontSize="14"
                FontAttributes="Bold"
                HorizontalOptions="Center"
                HeightRequest="40"
                Clicked="LocalizacaoClicked"/>

        <Frame Grid.Row="3" CornerRadius="10" HasShadow="False" BackgroundColor="#EDE7F6" Padding="10" BorderColor="Transparent">
            <Label x:Name="lblCoordenadasLocationGPS" Text="Lat: -- | Lon: --" TextColor="#6200EE" FontSize="12" HorizontalOptions="Center"/>
        </Frame>

        <Frame Grid.Row="4" CornerRadius="25" HasShadow="True" BackgroundColor="#6200EE" Padding="20" BorderColor="Transparent">
            <VerticalStackLayout Spacing="8">
                <Label x:Name="lblCidade" Text="---" TextColor="White" FontSize="24" FontAttributes="Bold" HorizontalOptions="Center"/>
                <Label x:Name="lblCoordenadas" Text="Lat: -- | Lon: --" TextColor="#B39DDB" FontSize="12" HorizontalOptions="Center"/>
                <Label x:Name="lblTemperatura" Text="--Â°C" TextColor="White" FontSize="60" FontAttributes="Bold" HorizontalOptions="Center"/>
                <Label x:Name="lblDescricao" Text="Aguardando pesquisa..." TextColor="#E0E0E0" FontSize="18" HorizontalOptions="Center" FontAttributes="Italic"/>

                <BoxView HeightRequest="1" Color="#9FA8DA" Margin="20,15"/>

                <VerticalStackLayout Spacing="15">
                    <VerticalStackLayout HorizontalOptions="Center">
                        <Label Text="â˜€ï¸ Nascer/PÃ´r do Sol" TextColor="#B39DDB" FontSize="12" HorizontalOptions="Center"/>
                        <Label x:Name="lblSol" Text="--:-- / --:--" TextColor="White" FontSize="16" FontAttributes="Bold" HorizontalOptions="Center"/>
                    </VerticalStackLayout>
                    <VerticalStackLayout HorizontalOptions="Center">
                        <Label Text="ðŸ’¨ Vento" TextColor="#B39DDB" FontSize="12" HorizontalOptions="Center"/>
                        <Label x:Name="lblVento" Text="-- km/h" TextColor="White" FontSize="16" FontAttributes="Bold" HorizontalOptions="Center"/>
                    </VerticalStackLayout>
                </VerticalStackLayout>
            </VerticalStackLayout>
        </Frame>

        <VerticalStackLayout Grid.Row="5" Spacing="10">
            <Label Text="HistÃ³rico Recente" FontAttributes="Bold" TextColor="#555" Margin="5,0"/>
            <CollectionView x:Name="listaHistorico">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Frame Margin="0,5" Padding="15" CornerRadius="15" BackgroundColor="White" BorderColor="Transparent">
                            <Grid ColumnDefinitions="*, Auto">
                                <VerticalStackLayout Grid.Column="0">
                                    <Label Text="{Binding Cidade}" FontAttributes="Bold" TextColor="#333"/>
                                    <Label Text="{Binding DataConsulta}" FontSize="12" TextColor="#888"/>
                                </VerticalStackLayout>
                                <Label Grid.Column="1" Text="{Binding Temperatura}" TextColor="#6200EE" FontAttributes="Bold" VerticalOptions="Center"/>
                            </Grid>
                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </VerticalStackLayout>

    </Grid>
</ContentPage>